<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2ì²­ë…„ë¶€ë¶€ ê³µê³¼ ëª¨ìŒ</title> 
    <link rel="stylesheet" href="style.css"> 
</head>
<body>
    <button id="menuToggleButton" class="menu-toggle-button">â˜°</button>
    <div class="overlay"></div>

    <nav id="sidebarMenu" class="sidebar-menu">
        <h3>ëª©ë¡</h3>
        <ul id="archiveLinks">
            </ul>
    </nav>

    <div id="mainContentWrapper" class="main-content-wrapper">
        <div class="container">
            <div class="search-box">
                <input type="text" class="search-input" placeholder="í˜„ì¬ í˜ì´ì§€ ë‚´ìš©ì—ì„œ ê²€ìƒ‰..." id="searchInput">
            </div>

            <section class="page-specific-content"> 
                <div class="header">
                    <div class="course-title">ì˜ì›íˆ í–‰ë³µí•˜ê²Œ ì‚¬ëŠ” ë°©ë²•</div>
                    <div class="course-date">2025ë…„ 5ì›” 25ì¼</div> 
                    <div class="course-number"><i>21st</i></div>
                </div>
    
                <div class="question-group">
                    <div class="question-number">ë³¸ë¬¸</div>
                    <div class="verse">
                        <div class="verse-text">
                            12   ì˜ì ‘í•˜ëŠ” ì ê³§ ê·¸ ì´ë¦„ì„ ë¯¿ëŠ” ìë“¤ì—ê²ŒëŠ” í•˜ë‚˜ë‹˜ì˜ ìë…€ê°€ ë˜ëŠ” ê¶Œì„¸ë¥¼ ì£¼ì…¨ìœ¼ë‹ˆ
                        </div>
                        <div class="verse-reference">ìš”í•œë³µìŒ 1:12</div>
                    </div>
                </div>
                
                <div class="question-group">
                    <div class="question-number">ë¬¸ì œ 1</div>
                    <div class="verse">
                        <div class="verse-text"> (ë¬¸ì œ 1 ê´€ë ¨ êµ¬ì ˆ ë‚´ìš©) </div>
                        <div class="verse-reference">(ë¬¸ì œ 1 êµ¬ì ˆ ì¶œì²˜)</div>
                    </div>
                </div>
                </section>
    
            <footer class="footer">
                <p>ğŸ“š ê³µê³¼ ê³µë¶€ì— ë„ì›€ì´ ë˜ê¸¸ ë°”ëë‹ˆë‹¤ ğŸ™</p>
            </footer>
        </div> 
    </div>

    <script src="menuData.js"></script> 
    <script>
        const menuToggleButton = document.getElementById('menuToggleButton');
        const sidebarMenu = document.getElementById('sidebarMenu');
        const overlay = document.querySelector('.overlay');
        const searchInput = document.getElementById('searchInput');
        const archiveLinksUl = document.getElementById('archiveLinks');

        // ë©”ë‰´ ìƒì„± (menuData.jsì˜ weeklyBibleStudies ë°°ì—´ ì‚¬ìš©)
        if (typeof weeklyBibleStudies !== 'undefined' && weeklyBibleStudies.length > 0) {
            // menuData.js ì— ì…ë ¥ëœ ìˆœì„œëŒ€ë¡œ (ë³´í†µ ìµœì‹ ì´ ìœ„)
            // ë˜ëŠ” ì—¬ê¸°ì„œ ë‚ ì§œìˆœ ì •ë ¬ weeklyBibleStudies.sort((a,b) => new Date(b.date) - new Date(a.date));
            
            weeklyBibleStudies.forEach((study, index) => { // index ì¶”ê°€
                const listItem = document.createElement('li');
                const link = document.createElement('a');
                link.href = study.file; 
                link.innerHTML = `<span class="title">${study.title}</span><span class="date">${study.date} - <i>${study.number}</i></span>`;
                
                const currentPath = window.location.pathname;
                const currentFile = currentPath.substring(currentPath.lastIndexOf('/') + 1);

                // index.html ì´ê³ , í˜„ì¬ studyê°€ ë°°ì—´ì˜ ì²«ë²ˆì§¸ (ìµœì‹ ) í•­ëª©ì´ë¼ë©´ active
                if ((currentFile === '' || currentFile === 'index.html') && index === 0 && weeklyBibleStudies[0].file === 'index.html') { 
                     // menuData.jsì˜ ì²«ë²ˆì§¸ í•­ëª© fileì´ 'index.html'ì¼ ê²½ìš° index.htmlì—ì„œ í™œì„±í™”
                    link.classList.add('active-page-link');
                } else if (currentFile === '' && study.file === weeklyBibleStudies[0].file && index === 0) {
                    // index.htmlë¡œ ì ‘ì†í–ˆê³ , study.fileì´ ìµœì‹  íŒŒì¼ëª…ê³¼ ê°™ìœ¼ë©´ (menuData.jsì˜ ì²«ë²ˆì§¸ í•­ëª©)
                     link.classList.add('active-page-link');
                }
                // ë˜ëŠ” í˜„ì¬ íŒŒì¼ëª…ì´ study.fileê³¼ ì¼ì¹˜í•˜ë©´ active
                else if (currentFile === study.file) {
                    link.classList.add('active-page-link');
                }


                listItem.appendChild(link);
                archiveLinksUl.appendChild(listItem);
            });
        } else {
            archiveLinksUl.innerHTML = '<li>ë©”ë‰´ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</li>';
        }

        menuToggleButton.addEventListener('click', function() {
            sidebarMenu.classList.toggle('open');
            overlay.classList.toggle('active');
        });

        overlay.addEventListener('click', function() { 
            sidebarMenu.classList.remove('open');
            overlay.classList.remove('active');
        });

        // ê²€ìƒ‰ ê¸°ëŠ¥ (í˜„ì¬ í˜ì´ì§€ì˜ .page-specific-content ë‚´ë¶€ë§Œ ê²€ìƒ‰)
        searchInput.addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            const questionGroups = document.querySelectorAll('.page-specific-content .question-group');
            
            questionGroups.forEach(group => {
                const groupText = group.textContent.toLowerCase();
                if (groupText.includes(searchTerm)) {
                    group.style.display = 'block'; 
                    group.style.background = searchTerm ? 'linear-gradient(135deg, #fff5e1 0%, #ffeccf 100%)' : 'linear-gradient(135deg, #fdfbf7 0%, #f7f2ec 100%)';
                } else {
                    group.style.display = searchTerm ? 'none' : 'block'; 
                    group.style.background = 'linear-gradient(135deg, #fdfbf7 0%, #f7f2ec 100%)';
                }
            });
        });

        // ê¸°ì¡´ êµ¬ì ˆ í´ë¦­ íš¨ê³¼
        document.querySelectorAll('.verse').forEach(verse => {
            verse.addEventListener('click', function() {
                this.style.transform = 'scale(1.015)'; 
                setTimeout(() => {
                    this.style.transform = 'scale(1)'; 
                }, 150); 
            });
        });
    </script>
</body>
</html>
